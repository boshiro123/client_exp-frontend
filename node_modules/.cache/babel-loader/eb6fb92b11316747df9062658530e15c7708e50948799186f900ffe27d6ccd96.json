{"ast":null,"code":"var _jsxFileName = \"/Users/shirokiy/Desktop/Repositories/\\u0414\\u0438\\u043F\\u043B\\u043E\\u043C\\u044B/ClientExp/client_exp-frontend/src/pages/Survey/SurveyPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { surveyService } from \"../../api/survey\";\nimport \"./SurveyStyles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SurveyPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [respondentData, setRespondentData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    consent: false\n  });\n  useEffect(() => {\n    fetchSurvey();\n  }, [id]);\n  const fetchSurvey = async () => {\n    try {\n      setLoading(true);\n      const surveyData = await surveyService.getPublicSurveyById(id);\n      console.log(\"Получены данные опросника:\", surveyData);\n      if (!surveyData) {\n        setError(\"Опросник не найден или недоступен\");\n        setLoading(false);\n        return;\n      }\n      if (surveyData.status !== \"ACTIVE\" && surveyData.status !== \"активный\") {\n        setError(`Опросник в данный момент недоступен (статус: ${surveyData.status})`);\n        setLoading(false);\n        return;\n      }\n      setSurvey(surveyData);\n\n      // Инициализируем ответы для обязательных вопросов\n      const initialAnswers = {};\n      surveyData.questions.forEach(question => {\n        if (question.required) {\n          initialAnswers[question.id] = question.type === \"MULTIPLE_CHOICE\" ? [] : question.type === \"TEXT\" ? \"\" : null;\n        }\n      });\n      setAnswers(initialAnswers);\n      setLoading(false);\n    } catch (err) {\n      console.error(\"Ошибка при загрузке опросника:\", err);\n      setError(\"Не удалось загрузить опросник. Возможно, он был удален или недоступен.\");\n      setLoading(false);\n    }\n  };\n  const handleAnswerChange = (questionId, value) => {\n    const question = survey.questions.find(q => q.id === questionId);\n    if (question.type === \"MULTIPLE_CHOICE\") {\n      const currentAnswers = answers[questionId] || [];\n      if (currentAnswers.includes(value)) {\n        // Если значение уже выбрано, удаляем его\n        setAnswers({\n          ...answers,\n          [questionId]: currentAnswers.filter(item => item !== value)\n        });\n      } else {\n        // Иначе добавляем новое значение\n        setAnswers({\n          ...answers,\n          [questionId]: [...currentAnswers, value]\n        });\n      }\n    } else {\n      // Для одиночного выбора, текста и оценки\n      setAnswers({\n        ...answers,\n        [questionId]: value\n      });\n    }\n  };\n  const handleRespondentDataChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setRespondentData({\n      ...respondentData,\n      [name]: type === \"checkbox\" ? checked : value\n    });\n  };\n  const nextQuestion = () => {\n    const currentQuestion = survey.questions[currentQuestionIndex];\n\n    // Проверяем, дан ли ответ на обязательный вопрос\n    if (currentQuestion.required) {\n      const answer = answers[currentQuestion.id];\n      if (answer === null || answer === undefined || Array.isArray(answer) && answer.length === 0 || typeof answer === \"string\" && answer.trim() === \"\") {\n        alert(\"Пожалуйста, ответьте на вопрос, прежде чем продолжить.\");\n        return;\n      }\n    }\n    if (currentQuestionIndex < survey.questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n      window.scrollTo(0, 0);\n    }\n  };\n  const prevQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(currentQuestionIndex - 1);\n      window.scrollTo(0, 0);\n    }\n  };\n  const validateForm = () => {\n    // Проверяем, есть ли ответы на все обязательные вопросы\n    const unansweredRequired = survey.questions.filter(q => q.required).some(q => {\n      const answer = answers[q.id];\n      return answer === null || answer === undefined || Array.isArray(answer) && answer.length === 0 || typeof answer === \"string\" && answer.trim() === \"\";\n    });\n    if (unansweredRequired) {\n      alert(\"Пожалуйста, ответьте на все обязательные вопросы.\");\n      return false;\n    }\n\n    // Проверяем данные респондента\n    if (!respondentData.consent) {\n      alert(\"Пожалуйста, дайте согласие на обработку данных.\");\n      return false;\n    }\n    return true;\n  };\n  const submitSurvey = async () => {\n    if (!validateForm()) return;\n    try {\n      setSubmitting(true);\n      const surveyResponse = {\n        surveyId: survey.id,\n        respondent: respondentData,\n        answers: Object.entries(answers).map(([questionId, value]) => ({\n          questionId: parseInt(questionId),\n          answer: value\n        }))\n      };\n      await surveyService.submitSurveyResponse(surveyResponse);\n      setSubmitted(true);\n      window.scrollTo(0, 0);\n    } catch (err) {\n      console.error(\"Ошибка при отправке ответов:\", err);\n      alert(\"Произошла ошибка при отправке ответов. Пожалуйста, попробуйте еще раз.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const renderQuestionContent = question => {\n    switch (question.type) {\n      case \"SINGLE_CHOICE\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-options\",\n          children: question.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"option-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question_${question.id}`,\n              value: option,\n              checked: answers[question.id] === option,\n              onChange: () => handleAnswerChange(question.id, option)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this);\n      case \"MULTIPLE_CHOICE\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-options\",\n          children: question.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"option-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: `question_${question.id}_${index}`,\n              value: option,\n              checked: (answers[question.id] || []).includes(option),\n              onChange: () => handleAnswerChange(question.id, option)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this);\n      case \"TEXT\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-text\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"text-answer\",\n            value: answers[question.id] || \"\",\n            onChange: e => handleAnswerChange(question.id, e.target.value),\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u043E\\u0442\\u0432\\u0435\\u0442 \\u0437\\u0434\\u0435\\u0441\\u044C...\",\n            rows: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this);\n      case \"RATING\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rating-container\",\n          children: [[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(rating => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `rating-button ${answers[question.id] === rating ? \"selected\" : \"\"}`,\n            onClick: () => handleAnswerChange(question.id, rating),\n            children: rating\n          }, rating, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-labels\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u041E\\u0447\\u0435\\u043D\\u044C \\u043F\\u043B\\u043E\\u0445\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u0435\\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u043C\\u044B\\u0439 \\u0442\\u0438\\u043F \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u0430.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"survey-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-indicator\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u043F\\u0440\\u043E\\u0441\\u043D\\u0438\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"survey-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate(\"/\"),\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this);\n  }\n  if (!survey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"survey-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041E\\u043F\\u0440\\u043E\\u0441\\u043D\\u0438\\u043A \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate(\"/\"),\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this);\n  }\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"survey-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0443\\u0447\\u0430\\u0441\\u0442\\u0438\\u0435 \\u0432 \\u043E\\u043F\\u0440\\u043E\\u0441\\u0435!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u0430\\u0448\\u0438 \\u043E\\u0442\\u0432\\u0435\\u0442\\u044B \\u0431\\u044B\\u043B\\u0438 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u044B.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: () => navigate(\"/\"),\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQuestion = survey.questions[currentQuestionIndex];\n  const isLastQuestion = currentQuestionIndex === survey.questions.length - 1;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"survey-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"survey-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), survey.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"survey-description\",\n        children: survey.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"survey-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${(currentQuestionIndex + 1) / survey.questions.length * 100}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-text\",\n        children: [\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441 \", currentQuestionIndex + 1, \" \\u0438\\u0437 \", survey.questions.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"question-text\",\n          children: [currentQuestion.text, currentQuestion.required && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required-mark\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), renderQuestionContent(currentQuestion)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), isLastQuestion && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"respondent-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"form-note\",\n          children: \"\\u042D\\u0442\\u0430 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043F\\u043E\\u043C\\u043E\\u0436\\u0435\\u0442 \\u043D\\u0430\\u043C \\u0441\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u0432\\u0430\\u043C\\u0438 \\u043F\\u0440\\u0438 \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E\\u0441\\u0442\\u0438.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            value: respondentData.name,\n            onChange: handleRespondentDataChange,\n            placeholder: \"\\u0418\\u0432\\u0430\\u043D\\u043E\\u0432 \\u0418\\u0432\\u0430\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            value: respondentData.email,\n            onChange: handleRespondentDataChange,\n            placeholder: \"example@mail.ru\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            id: \"phone\",\n            name: \"phone\",\n            value: respondentData.phone,\n            onChange: handleRespondentDataChange,\n            placeholder: \"+7 (XXX) XXX-XX-XX\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"consent\",\n            name: \"consent\",\n            checked: respondentData.consent,\n            onChange: handleRespondentDataChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"consent\",\n            children: [\"\\u042F \\u0434\\u0430\\u044E \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0438\\u0435 \\u043D\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0443 \\u043C\\u043E\\u0438\\u0445 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0445 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required-mark\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigation-buttons\",\n        children: [currentQuestionIndex > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary-button\",\n          onClick: prevQuestion,\n          children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), !isLastQuestion ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: nextQuestion,\n          children: \"\\u0414\\u0430\\u043B\\u0435\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-button\",\n          onClick: submitSurvey,\n          disabled: submitting,\n          children: submitting ? \"Отправка...\" : \"Завершить опрос\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 5\n  }, this);\n};\n_s(SurveyPage, \"qGSzYHwb5X3dAAZrvDq2JteHgBs=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SurveyPage;\nexport default SurveyPage;\nvar _c;\n$RefreshReg$(_c, \"SurveyPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","surveyService","jsxDEV","_jsxDEV","SurveyPage","_s","id","navigate","survey","setSurvey","loading","setLoading","error","setError","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","submitting","setSubmitting","submitted","setSubmitted","respondentData","setRespondentData","name","email","phone","consent","fetchSurvey","surveyData","getPublicSurveyById","console","log","status","initialAnswers","questions","forEach","question","required","type","err","handleAnswerChange","questionId","value","find","q","currentAnswers","includes","filter","item","handleRespondentDataChange","e","checked","target","nextQuestion","currentQuestion","answer","undefined","Array","isArray","length","trim","alert","window","scrollTo","prevQuestion","validateForm","unansweredRequired","some","submitSurvey","surveyResponse","surveyId","respondent","Object","entries","map","parseInt","submitSurveyResponse","renderQuestionContent","className","children","options","option","index","onChange","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","rows","rating","onClick","isLastQuestion","title","description","style","width","text","htmlFor","disabled","_c","$RefreshReg$"],"sources":["/Users/shirokiy/Desktop/Repositories/Дипломы/ClientExp/client_exp-frontend/src/pages/Survey/SurveyPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useParams, useNavigate } from \"react-router-dom\"\nimport { surveyService } from \"../../api/survey\"\nimport \"./SurveyStyles.css\"\n\nconst SurveyPage = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n\n  const [survey, setSurvey] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\n  const [answers, setAnswers] = useState({})\n  const [submitting, setSubmitting] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n  const [respondentData, setRespondentData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    consent: false,\n  })\n\n  useEffect(() => {\n    fetchSurvey()\n  }, [id])\n\n  const fetchSurvey = async () => {\n    try {\n      setLoading(true)\n      const surveyData = await surveyService.getPublicSurveyById(id)\n      console.log(\"Получены данные опросника:\", surveyData)\n\n      if (!surveyData) {\n        setError(\"Опросник не найден или недоступен\")\n        setLoading(false)\n        return\n      }\n\n      if (surveyData.status !== \"ACTIVE\" && surveyData.status !== \"активный\") {\n        setError(\n          `Опросник в данный момент недоступен (статус: ${surveyData.status})`\n        )\n        setLoading(false)\n        return\n      }\n\n      setSurvey(surveyData)\n\n      // Инициализируем ответы для обязательных вопросов\n      const initialAnswers = {}\n      surveyData.questions.forEach(question => {\n        if (question.required) {\n          initialAnswers[question.id] =\n            question.type === \"MULTIPLE_CHOICE\"\n              ? []\n              : question.type === \"TEXT\"\n              ? \"\"\n              : null\n        }\n      })\n      setAnswers(initialAnswers)\n\n      setLoading(false)\n    } catch (err) {\n      console.error(\"Ошибка при загрузке опросника:\", err)\n      setError(\n        \"Не удалось загрузить опросник. Возможно, он был удален или недоступен.\"\n      )\n      setLoading(false)\n    }\n  }\n\n  const handleAnswerChange = (questionId, value) => {\n    const question = survey.questions.find(q => q.id === questionId)\n\n    if (question.type === \"MULTIPLE_CHOICE\") {\n      const currentAnswers = answers[questionId] || []\n\n      if (currentAnswers.includes(value)) {\n        // Если значение уже выбрано, удаляем его\n        setAnswers({\n          ...answers,\n          [questionId]: currentAnswers.filter(item => item !== value),\n        })\n      } else {\n        // Иначе добавляем новое значение\n        setAnswers({\n          ...answers,\n          [questionId]: [...currentAnswers, value],\n        })\n      }\n    } else {\n      // Для одиночного выбора, текста и оценки\n      setAnswers({\n        ...answers,\n        [questionId]: value,\n      })\n    }\n  }\n\n  const handleRespondentDataChange = e => {\n    const { name, value, type, checked } = e.target\n    setRespondentData({\n      ...respondentData,\n      [name]: type === \"checkbox\" ? checked : value,\n    })\n  }\n\n  const nextQuestion = () => {\n    const currentQuestion = survey.questions[currentQuestionIndex]\n\n    // Проверяем, дан ли ответ на обязательный вопрос\n    if (currentQuestion.required) {\n      const answer = answers[currentQuestion.id]\n      if (\n        answer === null ||\n        answer === undefined ||\n        (Array.isArray(answer) && answer.length === 0) ||\n        (typeof answer === \"string\" && answer.trim() === \"\")\n      ) {\n        alert(\"Пожалуйста, ответьте на вопрос, прежде чем продолжить.\")\n        return\n      }\n    }\n\n    if (currentQuestionIndex < survey.questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1)\n      window.scrollTo(0, 0)\n    }\n  }\n\n  const prevQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(currentQuestionIndex - 1)\n      window.scrollTo(0, 0)\n    }\n  }\n\n  const validateForm = () => {\n    // Проверяем, есть ли ответы на все обязательные вопросы\n    const unansweredRequired = survey.questions\n      .filter(q => q.required)\n      .some(q => {\n        const answer = answers[q.id]\n        return (\n          answer === null ||\n          answer === undefined ||\n          (Array.isArray(answer) && answer.length === 0) ||\n          (typeof answer === \"string\" && answer.trim() === \"\")\n        )\n      })\n\n    if (unansweredRequired) {\n      alert(\"Пожалуйста, ответьте на все обязательные вопросы.\")\n      return false\n    }\n\n    // Проверяем данные респондента\n    if (!respondentData.consent) {\n      alert(\"Пожалуйста, дайте согласие на обработку данных.\")\n      return false\n    }\n\n    return true\n  }\n\n  const submitSurvey = async () => {\n    if (!validateForm()) return\n\n    try {\n      setSubmitting(true)\n\n      const surveyResponse = {\n        surveyId: survey.id,\n        respondent: respondentData,\n        answers: Object.entries(answers).map(([questionId, value]) => ({\n          questionId: parseInt(questionId),\n          answer: value,\n        })),\n      }\n\n      await surveyService.submitSurveyResponse(surveyResponse)\n      setSubmitted(true)\n      window.scrollTo(0, 0)\n    } catch (err) {\n      console.error(\"Ошибка при отправке ответов:\", err)\n      alert(\n        \"Произошла ошибка при отправке ответов. Пожалуйста, попробуйте еще раз.\"\n      )\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  const renderQuestionContent = question => {\n    switch (question.type) {\n      case \"SINGLE_CHOICE\":\n        return (\n          <div className=\"question-options\">\n            {question.options.map((option, index) => (\n              <label key={index} className=\"option-label\">\n                <input\n                  type=\"radio\"\n                  name={`question_${question.id}`}\n                  value={option}\n                  checked={answers[question.id] === option}\n                  onChange={() => handleAnswerChange(question.id, option)}\n                />\n                <span>{option}</span>\n              </label>\n            ))}\n          </div>\n        )\n\n      case \"MULTIPLE_CHOICE\":\n        return (\n          <div className=\"question-options\">\n            {question.options.map((option, index) => (\n              <label key={index} className=\"option-label\">\n                <input\n                  type=\"checkbox\"\n                  name={`question_${question.id}_${index}`}\n                  value={option}\n                  checked={(answers[question.id] || []).includes(option)}\n                  onChange={() => handleAnswerChange(question.id, option)}\n                />\n                <span>{option}</span>\n              </label>\n            ))}\n          </div>\n        )\n\n      case \"TEXT\":\n        return (\n          <div className=\"question-text\">\n            <textarea\n              className=\"text-answer\"\n              value={answers[question.id] || \"\"}\n              onChange={e => handleAnswerChange(question.id, e.target.value)}\n              placeholder=\"Введите ваш ответ здесь...\"\n              rows={5}\n            />\n          </div>\n        )\n\n      case \"RATING\":\n        return (\n          <div className=\"rating-container\">\n            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(rating => (\n              <button\n                key={rating}\n                className={`rating-button ${\n                  answers[question.id] === rating ? \"selected\" : \"\"\n                }`}\n                onClick={() => handleAnswerChange(question.id, rating)}\n              >\n                {rating}\n              </button>\n            ))}\n            <div className=\"rating-labels\">\n              <span>Очень плохо</span>\n              <span>Отлично</span>\n            </div>\n          </div>\n        )\n\n      default:\n        return <p>Неподдерживаемый тип вопроса.</p>\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"loading-indicator\">Загрузка опросника...</div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"error-message\">\n          <h2>Ошибка</h2>\n          <p>{error}</p>\n          <button className=\"back-button\" onClick={() => navigate(\"/\")}>\n            Вернуться на главную\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (!survey) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"error-message\">\n          <h2>Опросник не найден</h2>\n          <button className=\"back-button\" onClick={() => navigate(\"/\")}>\n            Вернуться на главную\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (submitted) {\n    return (\n      <div className=\"survey-container\">\n        <div className=\"success-message\">\n          <h2>Спасибо за участие в опросе!</h2>\n          <p>Ваши ответы были успешно сохранены.</p>\n          <button className=\"primary-button\" onClick={() => navigate(\"/\")}>\n            Вернуться на главную\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const currentQuestion = survey.questions[currentQuestionIndex]\n  const isLastQuestion = currentQuestionIndex === survey.questions.length - 1\n\n  return (\n    <div className=\"survey-container\">\n      <header className=\"survey-header\">\n        <h1>{survey.title}</h1>\n        {survey.description && (\n          <p className=\"survey-description\">{survey.description}</p>\n        )}\n      </header>\n\n      <main className=\"survey-content\">\n        <div className=\"progress-bar\">\n          <div\n            className=\"progress-fill\"\n            style={{\n              width: `${\n                ((currentQuestionIndex + 1) / survey.questions.length) * 100\n              }%`,\n            }}\n          ></div>\n        </div>\n        <div className=\"progress-text\">\n          Вопрос {currentQuestionIndex + 1} из {survey.questions.length}\n        </div>\n\n        <div className=\"question-card\">\n          <h2 className=\"question-text\">\n            {currentQuestion.text}\n            {currentQuestion.required && (\n              <span className=\"required-mark\">*</span>\n            )}\n          </h2>\n\n          {renderQuestionContent(currentQuestion)}\n        </div>\n\n        {isLastQuestion && (\n          <div className=\"respondent-form\">\n            <h3>Контактная информация</h3>\n            <p className=\"form-note\">\n              Эта информация поможет нам связаться с вами при необходимости.\n            </p>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Ваше имя:</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={respondentData.name}\n                onChange={handleRespondentDataChange}\n                placeholder=\"Иванов Иван\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email:</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={respondentData.email}\n                onChange={handleRespondentDataChange}\n                placeholder=\"example@mail.ru\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"phone\">Телефон:</label>\n              <input\n                type=\"tel\"\n                id=\"phone\"\n                name=\"phone\"\n                value={respondentData.phone}\n                onChange={handleRespondentDataChange}\n                placeholder=\"+7 (XXX) XXX-XX-XX\"\n              />\n            </div>\n\n            <div className=\"form-group checkbox-group\">\n              <input\n                type=\"checkbox\"\n                id=\"consent\"\n                name=\"consent\"\n                checked={respondentData.consent}\n                onChange={handleRespondentDataChange}\n                required\n              />\n              <label htmlFor=\"consent\">\n                Я даю согласие на обработку моих персональных данных{\" \"}\n                <span className=\"required-mark\">*</span>\n              </label>\n            </div>\n          </div>\n        )}\n\n        <div className=\"navigation-buttons\">\n          {currentQuestionIndex > 0 && (\n            <button className=\"secondary-button\" onClick={prevQuestion}>\n              Назад\n            </button>\n          )}\n\n          {!isLastQuestion ? (\n            <button className=\"primary-button\" onClick={nextQuestion}>\n              Далее\n            </button>\n          ) : (\n            <button\n              className=\"primary-button\"\n              onClick={submitSurvey}\n              disabled={submitting}\n            >\n              {submitting ? \"Отправка...\" : \"Завершить опрос\"}\n            </button>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default SurveyPage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}